plugins { id "com.moowork.node" version "1.2.0"
}

node {
	download=true
	version="9.11.1"
	npmVersion="5.6.0"

}

task zip(type: Zip) {
        from ('.') {
                include "*"
                include "bin/**"
                include "data/**"
                include "node_modules/**"
                include "Public/**"
                include "routes/**"
                include "views/**"
        }
        destinationDir(file("dist"))
        baseName "sampleapp"
}


task build
build.dependsOn npm_build
npm_build.dependsOn npmInstall
build.dependsOn zip
zip.dependsOn npm_build

/*task zip(type: Zip) {
 	From ('.') {
		include "*"
		include "bin/**"
		include "data/**"
		include "node_modules/**"
		include	"Public/**"
		include "routes/**"
		include "views/**"
	}
	destinationDir(File("dist"))
	basename "sampleapp"
}

*/		
